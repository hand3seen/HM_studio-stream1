<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Audio Test Visualizer</title>
<style>
  html,body { margin:0; padding:0; background:#000; overflow:hidden; }
  canvas { display:block; }
</style>
<!-- p5.js core + sound -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js"></script>
</head>
<body>
<script>
let mic;

function setup(){
  createCanvas(windowWidth, windowHeight);
  // ask for mic permission (select BlackHole in browser settings)
  mic = new p5.AudioIn();
  mic.start();
  noStroke();
}

function draw(){
  background(0);
  // get mic level (0â€“1)
  let level = mic.getLevel();
  // map to circle size
  let size = map(level, 0, 0.3, 50, width);
  fill(0, 255, 180);
  ellipse(width/2, height/2, size, size);
}

function windowResized(){
  resizeCanvas(windowWidth, windowHeight);
}
</script>
</body>
</html>

